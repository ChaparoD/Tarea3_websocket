(this["webpackJsonpsocket-io-client"]=this["webpackJsonpsocket-io-client"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),o=n(18),s=n.n(o),a=(n(46),n(9)),r=(n(47),n(83)),u=n(85),j=n(84),l=(n(48),n(39)),b=n.n(l)()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",{path:"/flights"}),p=n(82),O=n(8),f=n.n(O),d=n.p+"static/media/planeicon.2dc0d9df.jpeg",h=n(1);function m(){var e=Object(c.useState)({}),t=Object(a.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)({}),s=Object(a.a)(o,2),l=s[0],O=s[1],m=Object(c.useState)([]),x=Object(a.a)(m,2),g=x[0],v=x[1],S=f.a.icon({iconUrl:d,iconSize:[30,30]}),w=function(){return Object(h.jsx)("div",{children:Object.values(l).map((function(e,t){return Object(h.jsx)(p.a,{position:[e[0],e[1]],icon:S},t)}))})},C=function(){return Object(h.jsx)("div",{className:"column-chat",children:Object.values(g).map((function(e,t){return Object(h.jsxs)("li",{children:[' "De: " ',g[t].name,'  "|| => "  ',g[t].message," ",Object(h.jsx)("br",{})," (",Date(g[t].date).slice(16,25),") "]})}))})};return Object(c.useEffect)((function(){return b.emit("FLIGHTS",{}),function(){b.off()}}),[n]),Object(c.useEffect)((function(){return b.on("FLIGHTS",(function(e){i(e)})),b.on("POSITION",(function(e){var t=l;t[e.code]=[e.position[0],e.position[1]],O(t)})),b.on("CHAT",(function(e){console.log(e);var t=g;t.push(e),v(t)})),function(){b.off()}})),Object(h.jsxs)("div",{className:"column",children:[Object(h.jsx)("h3",{children:" Vuelos :"}),Object(h.jsx)("ul",{className:"companylist",children:Object.values(n).map((function(e,t){return Object(h.jsxs)("li",{style:{float:"left",paddingRight:"5px"},children:['"Codigo: " ',n[t].code,' "| Origen: " ',n[t].origin,'  "| Destino : "',n[t].destination,'"| Aerolinea: "',n[t].airline,'  "| Avi\xf3n: "',n[t].plane,'  "| Asientos: "',n[t].seats]},t)}))}),Object(h.jsxs)(r.a,{center:{lat:"-35.55555",lng:"-70.66666"},zoom:3,children:[Object(h.jsx)(u.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Object(h.jsx)(w,{}),Object.values(n).map((function(e,t){return Object(h.jsx)(j.a,{color:"black",positions:[n[t].origin,n[t].destination]})}))]}),Object(h.jsx)("h2",{children:" Chat Box"}),Object(h.jsx)(C,{}),Object(h.jsx)("input",{type:"text",placeholder:"Inserte Mensaje"}),Object(h.jsx)("button",{text:"Enviar",onSubmit:function(e){b.emit("CHAT",{name:"me",message:"Nuevo mensaje"})}})]})}var x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,86)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),o(e),s(e)}))};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),x()}},[[81,1,2]]]);
//# sourceMappingURL=main.71fcc832.chunk.js.map